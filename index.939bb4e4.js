function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},i=t.parcelRequirebe8b;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},t.parcelRequirebe8b=i),i.register("eb4JW",(function(e,t){var n;n=function(){var e=null,t={};f();var n=[],r=function(t){if(void 0!==(t=t||{}).seed&&null!==t.seed&&t.seed===parseInt(t.seed,10))e=t.seed;else if("string"==typeof t.seed)e=p(t.seed);else{if(void 0!==t.seed&&null!==t.seed)throw new TypeError("The seed value must be an integer or string");e=null}var l,h;if(null!==t.count&&void 0!==t.count){for(var c=t.count,u=[],d=0;d<t.count;d++)n.push(!1);for(t.count=null;c>u.length;){var v=r(t);null!==e&&(t.seed=e),u.push(v)}return t.count=c,u}return s([l=i(t),h=a(l,t),o(l,h,t)],t)};function i(e){if(n.length>0){var t=d(a=w(e.hue)),r=(a[1]-a[0])/n.length,i=parseInt((t-a[0])/r);return!0===n[i]?i=(i+2)%n.length:n[i]=!0,(t=d(a=[(a[0]+i*r)%359,(a[0]+(i+1)*r)%359]))<0&&(t=360+t),t}var a;return(t=d(a=h(e.hue)))<0&&(t=360+t),t}function a(e,t){if("monochrome"===t.hue)return 0;if("random"===t.luminosity)return d([0,100]);var n=c(e),r=n[0],i=n[1];switch(t.luminosity){case"bright":r=55;break;case"dark":r=i-10;break;case"light":i=55}return d([r,i])}function o(e,t,n){var r=l(e,t),i=100;switch(n.luminosity){case"dark":i=r+20;break;case"light":r=(i+r)/2;break;case"random":r=0,i=100}return d([r,i])}function s(e,t){switch(t.format){case"hsvArray":return e;case"hslArray":return m(e);case"hsl":var n=m(e);return"hsl("+n[0]+", "+n[1]+"%, "+n[2]+"%)";case"hsla":var r=m(e),i=t.alpha||Math.random();return"hsla("+r[0]+", "+r[1]+"%, "+r[2]+"%, "+i+")";case"rgbArray":return C(e);case"rgb":return"rgb("+C(e).join(", ")+")";case"rgba":var a=C(e);return i=t.alpha||Math.random(),"rgba("+a.join(", ")+", "+i+")";default:return v(e)}}function l(e,t){for(var n=u(e).lowerBounds,r=0;r<n.length-1;r++){var i=n[r][0],a=n[r][1],o=n[r+1][0],s=n[r+1][1];if(t>=i&&t<=o){var l=(s-a)/(o-i);return l*t+(a-l*i)}}return 0}function h(e){if("number"==typeof parseInt(e)){var n=parseInt(e);if(n<360&&n>0)return[n,n]}if("string"==typeof e)if(t[e]){var r=t[e];if(r.hueRange)return r.hueRange}else if(e.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var i=b(e)[0];return[i,i]}return[0,360]}function c(e){return u(e).saturationRange}function u(e){for(var n in e>=334&&e<=360&&(e-=360),t){var r=t[n];if(r.hueRange&&e>=r.hueRange[0]&&e<=r.hueRange[1])return t[n]}return"Color not found"}function d(t){if(null===e){var n=.618033988749895,r=Math.random();return r+=n,r%=1,Math.floor(t[0]+r*(t[1]+1-t[0]))}var i=t[1]||1,a=t[0]||0,o=(e=(9301*e+49297)%233280)/233280;return Math.floor(a+o*(i-a))}function v(e){var t=C(e);function n(e){var t=e.toString(16);return 1==t.length?"0"+t:t}return"#"+n(t[0])+n(t[1])+n(t[2])}function g(e,n,r){var i=r[0][0],a=r[r.length-1][0],o=r[r.length-1][1],s=r[0][1];t[e]={hueRange:n,lowerBounds:r,saturationRange:[i,a],brightnessRange:[o,s]}}function f(){g("monochrome",null,[[0,0],[100,0]]),g("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),g("orange",[18,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),g("yellow",[46,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),g("green",[62,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),g("blue",[178,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),g("purple",[257,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),g("pink",[282,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}function C(e){var t=e[0];0===t&&(t=1),360===t&&(t=359),t/=360;var n=e[1]/100,r=e[2]/100,i=Math.floor(6*t),a=6*t-i,o=r*(1-n),s=r*(1-a*n),l=r*(1-(1-a)*n),h=256,c=256,u=256;switch(i){case 0:h=r,c=l,u=o;break;case 1:h=s,c=r,u=o;break;case 2:h=o,c=r,u=l;break;case 3:h=o,c=s,u=r;break;case 4:h=l,c=o,u=r;break;case 5:h=r,c=o,u=s}return[Math.floor(255*h),Math.floor(255*c),Math.floor(255*u)]}function b(e){e=3===(e=e.replace(/^#/,"")).length?e.replace(/(.)/g,"$1$1"):e;var t=parseInt(e.substr(0,2),16)/255,n=parseInt(e.substr(2,2),16)/255,r=parseInt(e.substr(4,2),16)/255,i=Math.max(t,n,r),a=i-Math.min(t,n,r),o=i?a/i:0;switch(i){case t:return[(n-r)/a%6*60||0,o,i];case n:return[60*((r-t)/a+2)||0,o,i];case r:return[60*((t-n)/a+4)||0,o,i]}}function m(e){var t=e[0],n=e[1]/100,r=e[2]/100,i=(2-n)*r;return[t,Math.round(n*r/(i<1?i:2-i)*1e4)/100,i/2*100]}function p(e){for(var t=0,n=0;n!==e.length&&!(t>=Number.MAX_SAFE_INTEGER);n++)t+=e.charCodeAt(n);return t}function w(e){if(isNaN(e)){if("string"==typeof e)if(t[e]){var n=t[e];if(n.hueRange)return n.hueRange}else if(e.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i))return u(b(e)[0]).hueRange}else{var r=parseInt(e);if(r<360&&r>0)return u(e).hueRange}return[0,360]}return r}(),e&&e.exports&&(t=e.exports=n),t.randomColor=n}));const a=function(e){let t,n,r=e.length;for(;0!==r;)n=Math.floor(Math.random()*r),r-=1,t=e[r],e[r]=e[n],e[n]=t;return e};class o{setup(){this.canvasArea=this.calculateAreaOfCanvas(this.templateSvgEl.node),this.hexColors=this.hexColors.concat(this.generatedHexColors),this.hexColors=a(this.hexColors),this.startGenerationClock(this.options.generationIntervalCircleCount,this.options.generationIntervalInMs),this.bindWindowFocusSwitch(),this.bindIntersectionObserver()}teardown(){this.canvasArea=0,this.hexColors=[],this.stopGenerationClock(),window.removeEventListener("focus",this.boundStartGenerationClock),window.removeEventListener("blur",this.boundCleanAndStopGenerationClock),document.removeEventListener(this.visibilityChangeEvent,this.boundOnVisibilityChange),this.observer.disconnect(),this.clean()}calculateAreaOfCanvas(e){let t=e.getBoundingClientRect();if(t)return t.height*t.width}calculateAreaOfCircle(e){return Math.PI*Math.round(e)*Math.round(e)}calculatePercentageCoveredOfCanvas(e,t){return e/t*100}isEnoughOfCanvasCoveredByColor(e){if(!this.circlesInCanvas.length)return!1;let t=this.circlesInCanvas.filter((t=>t.node.getAttribute("fill")===e)).map((e=>this.calculateAreaOfCircle(parseInt(e.attr("r"))))).reduce(((e,t)=>e+t),0);return this.calculatePercentageCoveredOfCanvas(t,this.canvasArea)>95}startGenerationClock(e=1,t=3e3){this.generateCircles(e),this.generationIntervals.add(setInterval((()=>this.generateCircles(e)),t))}stopGenerationClock(){for(let e of this.generationIntervals)window.clearInterval(e),this.generationIntervals.delete(e)}bindWindowFocusSwitch(){this.boundStartGenerationClock=this.startGenerationClock.bind(this),this.boundCleanAndStopGenerationClock=()=>{this.clean(),this.stopGenerationClock()},this.boundOnVisibilityChange=this.onVisibilityChange.bind(this),window.addEventListener("focus",this.boundStartGenerationClock),window.addEventListener("blur",this.boundCleanAndStopGenerationClock),document.addEventListener(this.visibilityChangeEvent,this.boundOnVisibilityChange)}onVisibilityChange(){this.clean(),document[this.documentHiddenProperty]||"hidden"===document.visibilityState?this.stopGenerationClock():this.startGenerationClock()}bindIntersectionObserver(){window.IntersectionObserver&&(this.observer=new IntersectionObserver(((e,t)=>{e.forEach((e=>{e.intersectionRatio<=.1&&this.circlesInCanvas.length?(this.stopGenerationClock(),this.clean()):e.intersectionRatio>.1&&!this.circlesInCanvas.length&&this.startGenerationClock()}))}),{threshold:[.1,.6]}),this.observer.observe(this.templateSvgEl.node))}generateID(){return this.options.idPrefix+Date.now()}clean(){0!==this.circlesInCanvas.length?(this.circlesInCanvas.forEach((e=>{document.querySelector("#"+e.attr("id")).remove()})),this.circlesInCanvas=[],this.whichColorInSequence=1):this.whichColorInSequence=1}cleanBasedOnCondition(e=(e=>!!e)){0!==this.circlesInCanvas.length?this.circlesInCanvas=this.circlesInCanvas.filter((t=>!!e(t)||(document.querySelector("#"+t.attr("id")).remove(),!1))):this.whichColorInSequence=1}animateCircle(e){this.growCircle(e,1e4).then((()=>{return e=5e3,new Promise(((t,n)=>{e&&"number"==typeof e||rej("Invalid time argument provided."),setTimeout((()=>t()),Math.abs(e))}));var e})).then((()=>this.fadeCircle(e,1e3))).then((()=>{let t=document.querySelector("#"+e.attr("id"));t&&t.remove(),this.circlesInCanvas.splice(this.circlesInCanvas.indexOf(e),1)}))}growCircle(e,t=1e4){const n=Math.max(this.templateSvgEl.node.clientWidth,this.templateSvgEl.node.clientHeight)/1.25;return new Promise(((r,i)=>{e.animate({r:n},t,mina.easeInOut,(()=>r(e)))}))}fadeCircle(e,t=1e3){return new Promise(((n,r)=>{e.animate({opacity:0},t,mina.linear,(()=>n(e)))}))}storeCircle(e){this.circlesInCanvas.push(e)}getSequentialRandomColor(){let e=this.hexColors[this.whichColorInSequence-1];return this.whichColorInSequence>=this.hexColors.length-1&&(this.hexColors=a(this.hexColors),this.whichColorInSequence=1),this.isEnoughOfCanvasCoveredByColor(e)?(this.whichColorInSequence+=1,this.hexColors[this.whichColorInSequence-1]):e}getRandomViewportCoordinate(){const e=this.templateSvgEl.node.clientHeight,t=this.templateSvgEl.node.clientWidth;return[Math.floor(Math.random()*(t-0+1)+1),Math.floor(Math.random()*e+1)+1]}generateCircles(e=3,t=this.getRandomViewportCoordinate.bind(this)){for(let n=0;n<e;n++){const[e,n]=t(),r=this.generateID(),i=this.templateSvgEl.circle(e,n,1).attr({fill:this.getSequentialRandomColor(),id:r});this.storeCircle(i),this.animateCircle(i)}}constructor(e,t,n){this.templateSvgEl=e,this.generationIntervals=new Set,this.canvasArea=0,this.generatedHexColors=t,this.circlesInCanvas=[],this.hexColors=[],this.whichColorInSequence=1,this.options={idPrefix:"circle",generationIntervalInMs:4e3,generationIntervalCircleCount:1,areaCoveredThreshold:95},this.options=Object.assign(this.options,n),this.documentHiddenProperty="hidden",this.visibilityChangeEvent="visibilitychange",void 0!==document.hidden?(this.documentHiddenProperty="hidden",this.visibilityChangeEvent="visibilitychange"):void 0!==document.msHidden?(this.documentHiddenProperty="msHidden",this.visibilityChangeEvent="msvisibilitychange"):void 0!==document.webkitHidden&&(this.documentHiddenProperty="webkitHidden",this.visibilityChangeEvent="webkitvisibilitychange"),this.setup()}}var s=i("eb4JW");window.addEventListener("load",(()=>{new o(Snap("#circleCanvas"),e(s)({luminosity:"light",count:10}))}));
//# sourceMappingURL=index.939bb4e4.js.map
